@PART[kerbalEVA,kerbalEVAfemale]
{
  MODULE
  {
    name = IFILifeSupportEVA
  }
	RESOURCE
	{  
		name = LifeSupport
		
		amount =  0.66666
		maxAmount = 0.66666
	}
}


@PART[*]:HAS[#CrewCapacity[>0],!MODULE[IFILifeSupport]]
{
	%IFI_CC = #$CrewCapacity$
 	MODULE
	{
		name = IFILifeSupport
	}
	RESOURCE
	{  
		name = LifeSupport
		
		amount =  #$../IFI_CC$
		maxAmount =  #$../IFI_CC$
	}
	RESOURCE
	{  
		name = OrganicSlurry
		
		amount = 0
		maxAmount =  #$../IFI_CC$
	}
}
@PART[*]:HAS[#IFI_CC[*]]
{
	@RESOURCE[LifeSupport]
	{  
		@amount *= 3
		@maxAmount *= 3
	}
	@RESOURCE[OrganicSlurry]
	{  
		@amount = 0
		@maxAmount *= 3
	}
}
@PART[*]
{
	@RESOURCE[Sludge]
	{  
		@amount = 0
	}
	@RESOURCE[OrganicSlurry]
	{  
		@amount = 0
	}
}

// Copy the techrequired into the module, needed so that parts can be hidden and restored
// in the tech tree
@PART[*]:HAS[@MODULE[IFI_Improved]]
{
	@MODULE[IFI_Improved]
	{
		%TechRequired = #$../TechRequired$
	}
}

@PART[*]:HAS[@MODULE[IFI_Advanced]]
{
	@MODULE[IFI_Advanced]
	{
		%TechRequired = #$../TechRequired$
	}
}

@PART[*]:HAS[@MODULE[IFI_Extreme]]
{
	@MODULE[IFI_Extreme]
	{
		%TechRequired = #$../TechRequired$
	}
}

// Delete the variables to avoid log spam
@PART[*]
{
	!IFI_CC = delete
}




